{% extends 'base.html' %}
{% load bootstrap4 %}
{% load font_awesome %}
{% block 'content' %}
  <h6>Show stream configuration details</h6>
  <hr class="my-4">
<div class="row">
  <div class="col-sm border-right">
    <dl class="row">
      <dt class="col-sm-3">Name</dt>
      <dd class="col-sm-9">{{ object.name }}</dd>
      <dt class="col-sm-3">Application</dt>
      <dd class="col-sm-9">{{ object.application }}</dd>
    </dl>
    <p><strong>Do not share the stream ID.</strong> It serves as a secret key, and anyone that knows this key could send content to your stream.</p>
  </div>
  <div class="col-sm">
    <h6>How to configure your Encoder</h6>
    <hr class="my-4">
    <p>Set the following <strong>stream server</strong> in your encoder application:</p>
    <code>rtmp://TODO TODO SERVER BASE URL/{{ object.application }}/</code>
    <p>Set the following <strong>stream ID</strong> in your encoder application:</p>
    <div class="input-group mb-4" id="show_hide_stream_key">
      <input class="form-control" type="password" value="{{ object.stream }}">
      <div class="input-group-append">
        <a href="" class="btn btn-outline-secondary"><i class="fa fa-eye-slash" aria-hidden="true"></i></a>
      </div>
    </div>
    <p>You may need to use the full URL instead:</p>
    <div class="input-group mb-4" id="show_hide_stream_url">
      <input class="form-control" type="password" value="rtmp://TODO TODO TODO SERVER BASE URL/{{ object.stream }}">
      <div class="input-group-append">
        <a href="" class="btn btn-outline-secondary"><i class="fa fa-eye-slash" aria-hidden="true"></i></a>
      </div>
    </div>
  </div>
</div>
<script>
  $(function () {
    $('[data-toggle="popover"]').popover()
  })
  $(function() {
    $("#show_hide_stream_key a").on('click', function(event) {
        event.preventDefault();
        if ($('#show_hide_stream_key input').attr('type') == 'text') {
            $('#show_hide_stream_key input').attr('type', 'password');
            $('#show_hide_stream_key i').addClass('fa-eye-slash');
            $('#show_hide_stream_key i').removeClass('fa-eye');
        } else if ($('#show_hide_stream_key input').attr('type') == 'password') {
            $('#show_hide_stream_key input').attr('type', 'text');
            $('#show_hide_stream_key i').removeClass('fa-eye-slash');
            $('#show_hide_stream_key i').addClass('fa-eye');
        }
    });
  });
  $(function() {
    $("#show_hide_stream_url a").on('click', function(event) {
        event.preventDefault();
        if ($('#show_hide_stream_url input').attr('type') == 'text') {
            $('#show_hide_stream_url input').attr('type', 'password');
            $('#show_hide_stream_url i').addClass('fa-eye-slash');
            $('#show_hide_stream_url i').removeClass('fa-eye');
        } else if ($('#show_hide_stream_url input').attr('type') == 'password') {
            $('#show_hide_stream_url input').attr('type', 'text');
            $('#show_hide_stream_url i').removeClass('fa-eye-slash');
            $('#show_hide_stream_url i').addClass('fa-eye');
        }
    });
  });
</script>
{% endblock %}
